/*! videojs-contrib-dash - v2.5.1 - 2016-10-27
 * Copyright (c) 2016 Brightcove  */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(b,d){if("function"==typeof define&&define.amd)define(["exports","global/window","video.js","dashjs"],d);else if("undefined"!=typeof c)d(c,a("global/window"),"undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,"undefined"!=typeof window?window.dashjs:"undefined"!=typeof b?b.dashjs:null);else{var e={exports:{}};d(e.exports,b.window,b.video,b.dashjs),b.videojsDash=e.exports}}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var g=e(b),h=e(c),i=e(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){return"[object Array]"===Object.prototype.toString.call(a)},l=function(){function a(b,c,d){if(f(this,a),d=d||c.options_,this.player=(0,h.default)(d.playerId),this.player.dash=this.player.dash||{},this.tech_=c,this.el_=c.el(),this.elParent_=this.el_.parentNode,b.src){c.isReady_=!1,a.updateSourceData&&(b=a.updateSourceData(b));var e=b.src;this.keySystemOptions_=a.buildDashJSProtData(b.keySystemOptions),this.player.dash.mediaPlayer=i.default.MediaPlayer().create(),this.mediaPlayer_=this.player.dash.mediaPlayer,a.useVideoJSDebug&&(h.default.log.warn("useVideoJSDebug has been deprecated. Please switch to using beforeInitialize."),a.useVideoJSDebug(this.mediaPlayer_)),a.beforeInitialize&&a.beforeInitialize(this.player,this.mediaPlayer_),this.mediaPlayer_.initialize(),d.dash&&d.dash.limitBitrateByPortal?this.mediaPlayer_.setLimitBitrateByPortal(!0):this.mediaPlayer_.setLimitBitrateByPortal(!1),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setAutoPlay(!1),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(e),this.tech_.triggerReady()}}return j(a,[{key:"dispose",value:function(){this.mediaPlayer_&&this.mediaPlayer_.reset(),this.player.dash&&delete this.player.dash}}],[{key:"buildDashJSProtData",value:function(a){var b={};if(!a||!k(a))return b;for(var c=0;c<a.length;c++){var d=a[c],e=h.default.mergeOptions({},d.options);e.licenseUrl&&(e.serverURL=e.licenseUrl,delete e.licenseUrl),b[d.name]=e}return b}}]),a}(),m=function(a){l.updateSourceData&&(a=l.updateSourceData(a));var b=document.createElement("video");return!(a.keySystemOptions&&!navigator.requestMediaKeySystemAccess&&!b.msSetMediaKeys)};h.default.DashSourceHandler=function(){return{canHandleSource:function(a){var b=/\.mpd/i;return m(a)?h.default.DashSourceHandler.canPlayType(a.type)?"probably":b.test(a.src)?"maybe":"":""},handleSource:function(a,b,c){return new l(a,b,c)},canPlayType:function(a){return h.default.DashSourceHandler.canPlayType(a)}}},h.default.DashSourceHandler.canPlayType=function(a){var b=/^application\/dash\+xml/i;return b.test(a)?"probably":""},g.default.MediaSource&&h.default.getComponent("Html5").registerSourceHandler(h.default.DashSourceHandler(),0),h.default.Html5DashJS=l,a.default=l})},{"global/window":2}],2:[function(a,b,c){(function(a){"undefined"!=typeof window?b.exports=window:"undefined"!=typeof a?b.exports=a:"undefined"!=typeof self?b.exports=self:b.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);